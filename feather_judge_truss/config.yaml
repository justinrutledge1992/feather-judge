build_commands: []

environment_variables:
  BASETEN_API_KEY: "FhzK2uQ8.2r7dLkKcfcgypafpT3HCmPI7f1F24vwp"
  CUDA_HOME: /usr/local/cuda
  LD_LIBRARY_PATH: /usr/local/cuda/extras/CUPTI/lib64:/usr/local/nvidia/lib:/usr/local/nvidia/lib64
  PATH: /usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

external_package_dirs: []

model_metadata:
  description: >
    FeatherJudge evaluates story continuity between a previous_text (prior story segment)
    and a current_text (proposed continuation) using a custom rubric from 1 (no continuity)
    to 5 (excellent continuity). It returns a numeric score and explanatory feedback.
  openai_compatible: false
  example_model_input:
    previous_text: >
      The caravan crested the final dune, the city of brass flickering on the horizon.
      Heat shimmered in the air, and every step forward felt like a promise coming due.
    current_text: >
      As they neared the gates, the same looming towers of brass glowed in the dusk,
      and the characters' motives and tensions deepened in a way that clearly followed
      from the journey so far.

model_name: FeatherJudge

# Must be one of the allowed enums for your Truss version
python_version: py312

requirements_file: requirements.txt

resources:
  accelerator: H100
  cpu: "4"
  memory: 16Gi
  use_gpu: true

secrets: {}

system_packages: []
